<!DOCTYPE html>
<html>
  <head>
    <style>
      body {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        margin: 0;
        background-color: white;
      }

      /* ボタンのサイズを調整 */
      .timer-button {
        width: 500px; /* 元のサイズ（100px）の5倍 */
        height: 500px; /* 元のサイズ（100px）の5倍 */
        border-radius: 50%; /* 円形を維持 */
        border: none;
        background-color: #808080;
        cursor: pointer;
        transition: background-color 0.3s;
        position: relative;
      }

      /* アクティブ時のスタイル */
      .timer-button.active {
        background-color: #4caf50;
      }

      /* アラーム時のスタイル */
      .timer-button.alarm {
        background-color: #ff0000;
      }
    </style>
  </head>
  <body>
    <!-- タイマーボタン -->
    <button class="timer-button"></button>

    <script>
      // 要素の取得
      const button = document.querySelector(".timer-button");
      const audio = new Audio("alarm.mp3"); // 音声ファイルの読み込み
      let timeoutId;

      // ボタンクリック時の処理
      button.addEventListener("click", () => {
        // グレー状態でのみ反応
        if (
          !button.classList.contains("active") &&
          !button.classList.contains("alarm")
        ) {
          button.classList.add("active");

          // 15分後にアラーム（テスト用に5秒に設定）
          timeoutId = setTimeout(() => {
            button.classList.remove("active");
            button.classList.add("alarm");
            audio.play(); // 音声再生

            // アラーム終了後にリセット
            audio.addEventListener(
              "ended",
              () => {
                button.classList.remove("alarm");
              },
              { once: true }
            );
          }, 5 * 1000); // 5秒（テスト用）
        }
      });
    </script>
  </body>
</html>
